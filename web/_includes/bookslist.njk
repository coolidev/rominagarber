<ol class="booklist" style="counter-reset: start-from {{ booksList.length + 1 }}">

  {% if seriesReference %}
    {% if currentBook.content.series._id == seriesReference %}

      {% for book in booksList %}
        {% set currentBook = book.data.book %}
        <li class="booklist-item{% if book.url == url %} booklist-item-active{% endif %}">
          <a href="{{ book.url | url }}" title="{{ currentBook.content.title }}" class="booklist-link">

          {%- if currentBook.cover %}
            <img src="{{ currentBook.cover }}" alt="{{ currentBook.content.cover.alt }}" />
          {% endif -%}

          </a>
        </li>
      {% endfor %}
    {% endif %}

  {% else %}
    {% set bookCount = 0 %}
    {% if not booksLimit %}
      {% booksLimit = booksList.length %}
    {% endif %}
    {% for book in books | reverse %}
      {% if bookCount < booksList %}
        {% set currentBook = book.data.book %}

        {% if currentBook.content.slug.current in page.url %}
          {% set eventsLimit = eventsLimit + 1 %}
        {% else %}

        <li class="booklist-item">
          <a href="/books/{{ currentBook.content.slug.current | slug }}/" title="{{ currentBook.content.title }}" class="booklist-link">

          {%- if currentBook.cover %}
            <img src="{{ currentBook.cover }}" alt="{{ currentBook.content.cover.alt }}" />
          {% endif -%}

          </a>
        </li>

    {% endfor %}
  {% endif %}

</ol>
